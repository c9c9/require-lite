!function(){var r=window,e=r.require;function t(r){return"function"==typeof r}if(!t(e)||!e.ACMD){var n,i=Array.prototype.slice,o=document,u=o.getElementById("ACMD-DST")||o.currentScript,a=void 0,f=null,s=!1,c=!0,l=console,p=Object.prototype.hasOwnProperty,d=Array.isArray,h=o.head||o.getElementsByTagName("head")[0],v=o.createElement("base"),m=B(o.baseURI);u||o.querySelectorAll("script").forEach(function(r){r.src.search(/[\/\\]require(\.min)*\.js/i)>-1&&(u=r)}),u&&(n=u.getAttribute("data-main"))&&(n=z(n,C(m)));var y,g=C(n||m),b=f,w={timeout:2e4,baseUrl:g,baseDir:C(g),alias:{},paths:{},modules:{}},x={},A={},I=["require","define","module","exports"],U=r.require=function(r,e,t,n){W(f,f,f,r,e,t,n)};U.promise=function(r,e){return Y(U,r,e)},U.config=U.setConfig=function(r){if(O(r)){var e=r.timeout,t=r.baseUrl,n=r.alias||{},i=r.paths||{},o=r.shim||{};isFinite(e)&&(w.timeout=e),P(t)&&w.baseUrl!==t&&(w.baseUrl=t,w.baseDir=C(t));var u=w.baseDir,a=w.modules,f=w.paths,s=w.alias;for(var c in n)n.hasOwnProperty(c)&&(s[c]=T(n[c],u));for(c in i)i.hasOwnProperty(c)&&N(a,f,c,i[c],u);for(c in o)o.hasOwnProperty(c)&&H(a,f,c,o[c],u)}return w},U.ACMD=c,U.setPlugins=function(r,e){/^[0-9a-z_]+$/i.test(r)?A[r]=e:l.error("无效的插件名 "+r+",插件名应由 0-9、a-Z、_ 组成。")};var D={};(r.define=function(r,e,t,n){var i=arguments.length;i<2?(t=r,e=r=a):i<4&&(P(r)?d(e)||(n=t,t=e,e=a):(n=t,t=e,e=r,r=a)),V(Z(n),{isDefine:c,params:[r,e,t,n]})}).amd={toDir:C,toAbsUrl:j,toAbsPath:T,toAbsJsPath:z,toJsPath:q,toLowerCaseUrl:_,toNoHashUrl:$,toOriginUrl:B},n&&U([n])}function P(r){return"string"==typeof r}function O(r){return!!r&&"object"==typeof r}function B(r){return(r||"").replace(/(\?[\s\S]*|#[\s\S]*)$/,"")}function $(r){return r.replace(/#[\s\S]*$/,"")}function q(r){return r=r.trim(),/\.min$/.test(r)||!/^\s*([a-zA-z]+:)*[\/\\]{2}|\.[^\/\\]+$|\?/.test(r)?r+".js":r}function C(r){return r=j(r=(r=B(r))+(!r||/[\/\\]$/.test(r)?"":"/")+(/\.[^\/\\]+$/.test(r)?"../":"./"))}function _(r){var e=r.indexOf("?");return-1!==e?r.slice(0,e).toLowerCase()+r.slice(e):r.toLowerCase()}function S(r){return/^\s*([a-zA-z]+:)*[\/\\]{2}[^.\/\\]/.test(r)}function T(r,e){return j(S(r)?r:e+r).trim().replace(/([^:])[\/\\]{2,}/,"$1/")}function j(r){return v.href=(S(r),r),v.href}function z(r,e){return T(q($(r)),e).replace(/(\?+&*|&+)$/,"")}function E(r,e){r.onload=r.onerror=r.onabort=e}function F(r,e){if(r&&e in r){r[e]=a;try{delete r[e]}catch(r){}}}function M(r){return r.replace(/^([@~][^\/\\])[\/\\]/,function(r,e){return w.alias[e]||r})}function L(r,e){return r[e]||(r[e]={})}function R(r,e,t,n,i){r=r||e,e=e||r;var o=(t||w.paths)[e];return o||(o=z(M(r),n),i?_(o):o)}function J(r,e){var t=w.paths[r];t||(t=z(M(r),e));var n=_(t);return{id:n,config:w.modules[n],path:t}}function N(r,e,t,n,i){if(P(n)){var o=n.split("#"),u=o[1],a=_(n=R(o[0],t,e,i));t!==n&&(e[t||n]=a);var s=L(r,a),c=n.indexOf("?");s.path=n+(c>-1?"":"?")+(-1===c||c===n.length-1?"":"&")+"__js_ver__"+u}else n===f&&(n=e[t])&&(F(e,t),F(r,n))}function H(r,e,t,n,i){var o=L(r,R(e[t],t,e,i,c));d(n)&&(n={deps:n}),o.deps=n.deps,o.exports=n.exports}function Z(r){return r&&P(r.baseUrl)?C(r.baseUrl):w.baseDir}function k(r,e,t,n,i,o,u,a){if(i&&i.length){var s=t.getId(n);x[s]||nr(s),W(r,e,t,i,function(){t.defineById(s,o,arguments),a(),t=o=s=a=f},function(r,e){t.errorById(s,r,e),a(),t=o=s=a=f},u)}else t.define(n,o),a()}function G(r,e,t,n,i,o){var u=b||[];b=f;var s=K(e,t),l=w.modules[t];if(l){var p=l.exports;P(p)&&(p=function(){return window[p]}),p!==a&&u.push({isDefine:c,params:[a,l.deps,p]})}var d=u.length,h=0;function v(){n&&++h>=d&&(r?s.save():s.errorById(t,i||"加载模块文件失败",o||t),s=f)}if(d&&r)for(var m,y,g,x=0;x<d;x++)y=(m=u[x]).params,m.isRequire?tr(e,y[0],y[1],y[2],t,s,v):(g=y[0],k(e,s.getId(g),s.toModuleByPath(g),g,y[1],y[2],y[3],v));else v(h=d)}function K(r,e){var n,i=n={},o=function(r,t,o,u){er(r=r||e,o||t!==a||r!==e||n===i&&!function(r){for(var e in r)if(p.call(r,e))return c;return s}(n)?t:n,o,u,0!==arguments.length)},u=function(t){return P(t)&&t?R(t,f,f,r,c):e},d=function(r,e,n){try{o(r,t(e)?n?e.apply(f,n):e():e)}catch(e){l.error("模块 ["+r+"] 定义失败。",e),h(r,"模块定义失败",r)}},h=function(r,e,t){o(r,a,e,t)};function v(t,n,i,o){if(arguments.length<2&&P(t))return function(r){var e=x[r];if(e){if(!e.error)return e.value;l.error("模块 ["+r+"] "+e.error+"。")}}(u(t));W(r,e,m,t,n,i,o)}v.promise=function(r,e){return Y(v,r,e)};var m={save:o,defineById:d,toModuleByPath:function(e){return e&&P(e)?K(r,u(e)):m},getId:u,error:function(r,e,t){h(u(r),e,t)},errorById:h,define:function(r,e,t){1===arguments.length&&(e=r,r=f),d(u(r),e,t)},require:v,module:{toUrl:function(e){if(!e)return r;var t=J(e);return t.config&&t.config.path||t.path},get exports(){return n},set exports(r){n=r}},get exports(){return n}};return m}function Q(r,e,t,n,i){t=C(r),setTimeout(function(){b=f;var u=function(r){y?y(r,t,e,n,i):G(r,t,e,c,n,i)};n?u(s):function(r,e){var t=o.createElement("script");t.src=r,t.async=c,t.defer=c,e&&E(t,function(r){var t=e;E(this,e=a),t("load"===r.type,this.src)}),h.append(t),h.removeChild(t)}(r,u)})}function V(r,e){y||((y=function(r,e,t,n,i){if(y){var o=y.sid;o&&(clearTimeout(o),y.sid=f),y=f}G(r,e,t,c,n,i)}).sid=setTimeout(function(){y&&(y.sid=f,y(c,r))})),(b=b||[]).push(e)}function W(r,e,n,i,o,u,f){P(i)?i=[i]:t(i)&&!t(u)&&(f=u,u=o,o=i,i=I),O(o)?(f=o,u=o=a):O(u)&&(f=u,u=a);var l=r||Z(f),p=[],h=s;f=f||{};for(var v,m=w.paths,y=0,g=(i=d(i)?i:[]).length;y<g;y++)v=i[y],I.indexOf(v)>-1?(p.push(v),h=c):(h=h||!m[v],p.push({path:v,option:f[v]}));h&&!r?V(l,{isRequire:c,params:[p,o,u]}):tr(l,p,o,u,e,n||g&&K(l,e))}function X(r){return function(){r(i.call(arguments))}}function Y(r,e,t){return new Promise(function(n,i){r(e,X(n),X(i),t)})}function rr(r,e,t,n){var i=D[r];if(i&&r){F(D,r);for(var o,u=0,a=i.length;u<a;u++)(o=i[u])&&o(e,t,n)}}function er(r,e,t,n,i){r&&(x[r]?i&&l.error("模块 [ "+r+" ] 已存在，不能重复定义。"):(e={value:e,error:t,errorId:n},x[r]=e,rr(r,e.value,t,n)))}function tr(r,e,n,i,o,u,s){var p=e.length;if(0===p)t(n)&&n();else for(var d,h,v,m,y,g,b,w,I=0,U=[],D=function(r,e,o,u){if(U[r]=e,!d&&(++I>=p||o)){d=c;try{o?t(i)&&i(o,u):t(n)&&n.apply(f,U)}catch(r){l.error(r)}t(s)&&s(),n=i=s=f}},O=0;O<p;O++)if(P(h=e[O]))D(O,u[h]);else if((v=h.path)&&P(v))(m=v.match(/^([0-9a-z_]+)!([\s\S]*)/i))?(v=m[2].replace(/\s+/g,""),w=A[m=m[1]]):(m="未知",w=Q),v?t(w)?(y=J(v,r),(g=x[b=y.id])?D(O,g.value,g.error,g.errorId):ir(b,D,O,r,w,y,h.option)):D(O,a,"无效的插件方法 ["+m+"]",v):D(O,a);else{var B;if(t(v))try{B=v()}catch(r){l.error(r)}D(O,B)}}function nr(r){var e=D[r];return e?e.isFirst&&(e.isFirst=s):(e=D[r]=[]).isFirst=c,e}function ir(r,e,t,n,i,o,u){var s,c,l=nr(r),p=l.isFirst,d=function(r,n,i){s&&(clearTimeout(s),s=f),d=f,e(t,r,n,i),t=e=f},h=w.timeout,v=function(e,t){if(s=setTimeout(function(){var e,t=D[r];t&&(e=t.indexOf(d))>-1&&(t.splice(e,1),d(a,"请求超时",r),r=f)},h),p){try{i(c,r,n,e,t,u,er,rr)}catch(e){rr(r,a,"请求失败",t)}i=f}};if(l.push(d),p){var m,y=o.config;if(y&&(c=y.path,m=y.deps),c||(c=o.path),m)return void W(n,r,f,m,function(){v()},function(r,e){v(r,e)})}v()}}(),function(){if("object"!=typeof module||!module)try{window.module={set exports(r){define(function(){return r})},get exports(){var r={};return define(r),r}}}catch(r){}}();
